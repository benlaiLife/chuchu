"use strict";define(["utils"],function(t){function n(t){var n=new i;return n.connector=/\?/.test(t)?"&":"?",n.url=t,n}window.ccj||(window.ccj={});var i=function(){function n(){var t=this;t.url="",t.options={},t.isFixHost=!0}var i={"ads-cdn.chuchujie.com":["ads-cdn01.ccjlook.com","ads-cdn02.ccjlook.com","ads-cdn03.ccjlook.com","ads-cdn04.ccjlook.com"]};return n.prototype={autoOptimization:function(){return this.formatJPG().quality(90)},width:function(t){return this.size(t,null)},height:function(t){return this.size(null,t)},size:function(t,n){var i=this,o=i.options.thumbnail,r=null,u=null;if(o){var c=o.split("x");r=""==c[0]?null:parseInt(c[0]),u=""==c[1]?null:parseInt(c[1])}return t&&(r=t),n&&(u=n),(r||u)&&(i.options.thumbnail=""+(r?r:"")+"x"+(u?u:"")),i},format:function(t){return this.options.format=t,this},formatJPG:function(){return this.format("jpg")},formatPNG:function(){return this.format("png")},quality:function(t){var n=t;return 30>n&&(n=30),n>100&&(n=100),this.options.quality=""+n+"!",this},getUrl:function(){var n=this,o=t.utils.urlTools.hostname(n.url),r=i[o],u=n.url.split("//")[0],c=location.protocol,l="",s="|",e="imageslim",a="",f="imageMogr2";if(u!=c&&(n.url=n.url.replace(u,c)),r){var h=t.utils.crc32(n.url);l=n.url.replace(o,r[h%r.length])}else l=n.url;for(var m in n.options)f+="/"+m+"/"+n.options[m];return a=/\?imageView2/.test(l)?l+s+f+s+e:l+n.connector+f+s+e}},n}();return t.image={fixUrl:n},t});